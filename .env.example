# ================================================================================
# 데이터베이스 설정 (Supabase PostgreSQL)
# ================================================================================
#
# 로컬 개발: Supabase CLI로 로컬 PostgreSQL 사용
# 프로덕션: Supabase 프로젝트 생성 (https://supabase.com/dashboard)
#
# ================================================================================

# ⭐ PostgreSQL 데이터베이스 URL
# 로컬: postgresql://postgres:postgres@localhost:54322/postgres
# 프로덕션: Project Settings → Database → Connection string → URI
DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres

# ⭐ 애플리케이션 기본 URL
# 로컬: http://localhost:5173
# 프로덕션: https://yourdomain.com
BASE_URL=http://localhost:5173

# ⭐ Better-auth Secret (필수!)
# 암호화, 서명, 해싱에 사용되는 비밀 키 (최소 32자)
# 생성 방법: openssl rand -base64 32
# 프로덕션에서는 반드시 다른 값으로 변경!
BETTER_AUTH_SECRET=m93eRhpinFSwxkJYbsdsTy330WzUpSIj

# ================================================================================
# OAuth 프로바이더 설정
# ================================================================================

# GitHub OAuth
# https://github.com/settings/developers → New OAuth App
# 콜백 URL: http://localhost:5173/auth/api/callback/github
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Google OAuth
# https://console.cloud.google.com/apis/credentials
# 콜백 URL: http://localhost:5173/auth/api/callback/google
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Kakao OAuth
# https://developers.kakao.com/console/app
# 콜백 URL: http://localhost:5173/auth/api/callback/kakao
KAKAO_CLIENT_ID=
KAKAO_CLIENT_SECRET=

# ================================================================================
# Resend 이메일 서비스 설정
# ================================================================================

# Resend API 키 (필수)
# https://resend.com/api-keys
# 로컬 테스트: 무료 플랜 사용 가능 (월 100통)
RESEND_API_KEY=

# 발신자 이메일 주소 (필수)
# 로컬 테스트: claude-rr7@resend.dev 사용 가능
# 프로덕션: 도메인 인증 후 noreply@yourdomain.com 형식
RESEND_FROM_EMAIL=claude-rr7@resend.dev

# ================================================================================
# 로컬 개발 환경 시작 방법
# ================================================================================
#
# 1. Supabase 초기화 (최초 1회)
#    bunx supabase init
#
# 2. 로컬 Supabase 시작 (Docker 필요)
#    bunx supabase start
#
# 3. 환경 변수 확인
#    bunx supabase status
#
# 4. 데이터베이스 마이그레이션
#    bun run db:push
#
# 5. 개발 서버 실행
#    bun run dev
#
# ================================================================================

# ================================================================================
# Docker 컨테이너 실행 방법
# ================================================================================
#
# ⚠️ 중요: Docker 컨테이너에서 호스트의 Supabase 로컬 DB에 접근 시
# 127.0.0.1 대신 host.docker.internal 사용 필요!
#
# 1. 호스트의 Supabase 로컬 DB 사용:
#    docker compose -f docker/docker-compose.yml --env-file docker/.env.docker up app
#
# 2. 또는 docker run 시 환경변수 직접 지정:
#    docker run -p 3000:3000 \
#      -e DATABASE_URL="postgresql://postgres:postgres@host.docker.internal:54322/postgres" \
#      --env-file .env \
#      claude-rr7-starterkit
#
# 3. 내장 PostgreSQL과 함께 실행:
#    docker compose -f docker/docker-compose.yml --profile with-db up -d
#
# 참고: docker/.env.docker 파일에 Docker 전용 환경 변수가 설정되어 있음
#
# ================================================================================

# ================================================================================
# 배포 시 주의사항
# ================================================================================
#
# Cloudflare Workers 배포 시 wrangler secret 사용
#
# bunx wrangler secret put DATABASE_URL --env production
# bunx wrangler secret put BASE_URL --env production
# bunx wrangler secret put BETTER_AUTH_SECRET --env production
# bunx wrangler secret put GITHUB_CLIENT_ID --env production
# bunx wrangler secret put GITHUB_CLIENT_SECRET --env production
# bunx wrangler secret put GOOGLE_CLIENT_ID --env production
# bunx wrangler secret put GOOGLE_CLIENT_SECRET --env production
# bunx wrangler secret put KAKAO_CLIENT_ID --env production
# bunx wrangler secret put KAKAO_CLIENT_SECRET --env production
# bunx wrangler secret put RESEND_API_KEY --env production
# bunx wrangler secret put RESEND_FROM_EMAIL --env production
#
# ================================================================================
